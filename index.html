<!DOCTYPE html>
<html lang="ka" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GL GROUP</title>
    <link rel="icon" type="image/LOGO2.jpeg" href="images/logo.jpg">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/media.css">
</head>
<body onclick="closeDetailModalOutside(event)">

    <header>
        <div class="container header-content">
            <div class="logo">
                <img src="images/LOGO2.jpeg" alt="GL GROUP" id="siteLogo">
                <span class="logo-text">GL GROUP</span>
            </div>
            
            <nav class="desktop-nav">
    <a href="#" class="nav-link active" onclick="filterCategory('all')" data-category="all" data-translate="all">ყველა</a>
    <a href="#" class="nav-link" onclick="filterCategory('cars')" data-category="cars" data-translate="carsNav">🚗 ავტომობილები</a>
    <a href="#" class="nav-link" onclick="filterCategory('houses')" data-category="houses" data-translate="housesNav">🏡 სახლები/ბინები</a>
    <a href="#" class="nav-link" onclick="filterCategory('land')" data-category="land" data-translate="landNav">🌾 მიწის ნაკვეთები</a>
    <a href="#" class="nav-link" onclick="filterCategory('office')" data-category="office" data-translate="officeNav">🏢 კომერციული ფართები</a>
</nav>

            <div class="header-tools">
                <button class="tool-btn" id="currencyToggle" onclick="toggleCurrency()">
                    <span class="currency-symbol">₾</span> / $
                </button>
                
                <div class="lang-switcher">
                    <button class="tool-btn lang-btn" onclick="toggleLanguageMenu()">
                        <span id="currentLang">🇬🇪 ქარ</span> ▼
                    </button>
                    <div id="languageMenu" class="lang-menu">
                        <a href="#" onclick="changeLanguage('ka')">🇬🇪 ქართული</a>
                        <a href="#" onclick="changeLanguage('en')">🇬🇧 English</a>
                        <a href="#" onclick="changeLanguage('ru')">🇷🇺 Русский</a>
                    </div>
                </div>

                <button class="tool-btn" id="themeToggle" onclick="toggleTheme()">
                    <span class="theme-icon">🌙</span>
                </button>

                <div class="admin-controls">
                    <button class="tool-btn admin-btn" id="loginBtn" onclick="showLoginModal()" data-translate="admin">ადმინი</button>
                    
                    <div id="adminPanel" style="display: none;">
                        <button class="tool-btn btn-new-post" onclick="showAddPostModal()" data-translate="newAd">➕ ახალი განცხადება</button>
                        <button class="tool-btn btn-logout" id="logoutBtn" onclick="logout()" data-translate="logout">გასვლა</button>
                    </div>
                </div>

                <button class="tool-btn mobile-menu-btn" onclick="toggleMobileMenu()">☰</button>
            </div>
        </div>
        
        <nav class="mobile-nav" id="navMenu">
    <a href="#" class="nav-link active" onclick="filterCategory('all'); toggleMobileMenu();" data-category="all" data-translate="navAll">ყველა</a>
    <a href="#" class="nav-link" onclick="filterCategory('cars'); toggleMobileMenu();" data-category="cars" data-translate="navCars">🚗 ავტომობილები</a>
    <a href="#" class="nav-link" onclick="filterCategory('houses'); toggleMobileMenu();" data-category="houses" data-translate="navHouses">🏡 სახლები/ბინები</a>
    <a href="#" class="nav-link" onclick="filterCategory('land'); toggleMobileMenu();" data-category="land" data-translate="navLand">🌾 მიწის ნაკვეთები</a>
    <a href="#" class="nav-link" onclick="filterCategory('office'); toggleMobileMenu();" data-category="office" data-translate="navOffice">🏢 კომერციული ფართები</a>
</nav>
    </header>

   <section class="hero">

    <video autoplay muted loop playsinline class="hero-video">

        <source src="images/688ca287-dd62-4119-bae7-eef278251671.MP4" type="video/mp4">
    </video>    
    <div class="container hero-content">

      
    </div>

</section>
    
  <main class="container">
    <div class="ads-wrapper">
        
        <aside class="sidebar-ad left-side">
            <div class="ad-box">
                <a href="#" target="_blank">
                    <img src="images/glgroup1.jpeg" alt="რეკლამა 1">
                </a>
            </div>
            <div class="ad-box">
                <a href="#" target="_blank">
                    <img src="images/LOGO2.jpeg" alt="რეკლამა 2">
                </a>
            </div>
        </aside>

        <div class="main-listings-area">
            <section class="filter-info" id="filterInfo">
                <h2 data-translate="allAds">🌟 ყველა განცხადება</h2>
                <p><span id="filterCount">0</span> განცხადება</p>
            </section>

            <section class="posts-grid" id="postsContainer">
                </section>
        </div>

        <aside class="sidebar-ad right-side">
            <div class="ad-box">
                <a href="#" target="_blank">
                    <img src="images/LOGO2.jpeg" alt="რეკლამა 3">
                </a>
            </div>
            <div class="ad-box">
                <a href="#" target="_blank">
                    <img src="images/LOGO2.jpeg" alt="რეკლამა 4">
                </a>
            </div>
        </aside>

    </div> 
            </main>

    <footer>
        <div class="container footer-grid">
            
            <div class="footer-section">
                <h3 class="footer-title">🏘️ Property & Auto</h3>
                <p data-translate="footerMission">უძრავი ქონების და ავტომობილების საუკეთესო განცხადებები ერთ სივრცეში.</p>
                <p>&copy; 2026. GL-GROUP</p>
            </div>

            <div class="footer-section">
                <h3 class="footer-title" data-translate="contact">კონტაქტი</h3>
                <ul>
                    <li><span data-translate="address">მისამართი:</span> ქუთაისი, წმინდა ნინოს ქ. #13</li>
                    <li><span data-translate="phone">ტელეფონი:</span> +995 591 667 413</li>
                    <li><span data-translate="phone">ტელეფონი:</span> +995 598 144 002</li>
                    <li><span data-translate="WhatsApp">WhatsApp:</span> +995 591 667 413</li>
                    <li><span data-translate="email">ელ.ფოსტა:</span> glgroupcreative@gmail.com</li>
                </ul>
            </div>

            <div class="footer-section">
                <h3 class="footer-title" data-translate="social">სოციალური მედია</h3>
                <div class="social-links">
                    <a href="https://www.facebook.com/glgroupgeo" target="_blank" class="social-link" title="Facebook">
                        <img src="images/Facebook.png" alt="Facebook">
                        Facebook
                    </a>
                    <a href="https://www.instagram.com/" target="_blank" class="social-link" title="Instagram">
                        <img src="images/instagram.jpeg" alt="Instagram">
                        Instagram
                    </a>
                    <a href="https://www.tiktok.com/@glgroup01" target="_blank" class="social-link" title="Tik Tok">
                        <img src="images/TIKTOK.png" alt="Instagram">
                        Tik Tok
                    </a>
                </div>
            </div>

        </div>
    </footer>
    <div id="loginModal" class="modal" onclick="closeModal('loginModal')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <span class="close-btn" onclick="closeModal('loginModal')">&times;</span>
            <h2 data-translate="authorization">ავტორიზაცია</h2>
            <form id="loginForm" onsubmit="event.preventDefault(); login()">
                <label for="passwordInput" data-translate="password">პაროლი:</label>
                <input type="password" id="passwordInput" required>
                <div class="modal-actions">
                    <button type="submit" class="btn-primary" data-translate="login">შესვლა</button>
                    <button type="button" class="btn-secondary" onclick="closeModal('loginModal')" data-translate="cancel">გაუქმება</button>
                </div>
            </form>
        </div>
    </div>

    <div id="postModal" class="modal" onclick="closeModal('postModal')">
        <div class="modal-content large-content" onclick="event.stopPropagation()">
            <span class="close-btn" onclick="closeModal('postModal')">&times;</span>
            <h2 id="postFormTitle" data-translate="addNewAd">ახალი განცხადების დამატება</h2>
            
            <form id="postForm" onsubmit="addPost(event)">
                <div class="form-group">
                    <label for="postCategory" data-translate="category">კატეგორია:</label>
                    <select id="postCategory" onchange="updateFormFields()">
                        <option value="advertisement">📢 რეკლამა</option>
                        <option value="cars" data-translate="cars">🚗 ავტომობილები</option>
                        <option value="houses" data-translate="houses">🏡 სახლები/ბინები</option>
                        <option value="land" data-translate="land">🌾 მიწის ნაკვეთები</option>
                        <option value="office" data-translate="office">🏢 კომერციული ფართები</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="postTitle" data-translate="title">სათაური:</label>
                    <input type="text" id="postTitle" required>
                </div>

                <div class="form-group">
                    <label for="postPrice" data-translate="price">ფასი:</label> 
                    <div class="price-input-group">
                        <input type="number" id="postPrice" min="0" required>
                        <select id="postCurrency">
                            <option value="GEL">₾ GEL</option>
                            <option value="USD">$ USD</option>
                        </select>
                    </div>
                </div>

                <div id="categoryFieldsContainer">
                    
                    <div id="carsFields" class="category-fields">
                        <div class="form-grid">
                            <input type="text" id="carBrand" placeholder="მარკა">
                            <input type="text" id="carModel" placeholder="მოდელი">
                            <input type="number" id="carYear" placeholder="წელი">
                            <input type="number" id="carMileage" placeholder="გარბენი (კმ)">
                            <input type="text" id="carEngine" placeholder="ძრავა">
                            <input type="text" id="carColor" placeholder="ფერი">
                            <select id="carTransmission"><option value="">ტრანსმისია</option><option>ავტომატიკა</option><option>მექანიკა</option></select>
                            <select id="carDrive"><option value="">წამყვანი</option><option>წინა</option><option>უკანა</option><option>4x4</option></select>
                        </div>
                    </div>
                    
                    <div id="housesFields" class="category-fields" style="display: none;">
                        <div class="form-grid">
                            <input type="number" id="houseRooms" placeholder="ოთახები">
                            <input type="number" id="houseBedrooms" placeholder="საძინებლები">
                            <input type="number" id="houseArea" placeholder="ფართი (მ²)">
                            <input type="number" id="houseFloor" placeholder="სართული">
                            <input type="number" id="houseBathrooms" placeholder="სველი წერტილი">
                            <select id="houseType"><option value="">ტიპი</option><option>ბინა</option><option>სახლი/დაჩა</option></select>
                            <select id="houseParking"><option value="კი">პარკინგი</option><option>კი</option><option>არა</option></select>
                            <select id="houseBalcony"><option value="კი">აივანი</option><option>კი</option><option>არა</option></select>
                            <input type="text" id="houseAddress" placeholder="მისამართი" style="grid-column: 1 / -1;">
                        </div>
                    </div>

                    <div id="landFields" class="category-fields" style="display: none;">
                        <div class="form-grid">
                            <input type="number" id="landArea" placeholder="ფართი (მ²)">
                            <input type="number" id="landHectare" placeholder="ჰექტარი">
                            <input type="text" id="landLocation" placeholder="ადგილმდებარეობა">
                            <select id="landPurpose"><option value="">დანიშნულება</option><option>სასოფლო-სამეურნეო</option><option>არასასოფლო</option></select>
                            <select id="landWater"><option value="კი">წყალი</option><option>კი</option><option>არა</option></select>
                            <select id="landElectricity"><option value="კი">ელექტროობა</option><option>კი</option><option>არა</option></select>
                            <select id="landRoad"><option value="ასფალტი">გზა</option><option>ასფალტი</option><option>გრუნტი</option></select>
                            <input type="text" id="landLandscape" placeholder="ლანდშაფტი (ბარი/მთიანი)">
                            <input type="text" id="landLocation" placeholder="ადგილმდებარეობა" style="grid-column: 1 / -1;">
                        </div>
                    </div>
                    
                    <div id="officeFields" class="category-fields" style="display: none;">
                        <div class="form-grid">
                            <input type="number" id="officeArea" placeholder="ფართი (მ²)">
                            <input type="number" id="officeFloor" placeholder="სართული">
                            <input type="number" id="officeRooms" placeholder="ოთახები">
                            <input type="number" id="officeBathrooms" placeholder="სველი წერტილი">
                            <select id="officeParking"><option value="კი">პარკინგი</option><option>კი</option><option>არა</option></select>
                            <select id="officeAC"><option value="კი">კონდიციონერი</option><option>კი</option><option>არა</option></select>
                            <select id="officeInternet"><option value="კი">ინტერნეტი</option><option>კი</option><option>არა</option></select>
                            <select id="officeSecurity"><option value="კი">უსაფრთხოება</option><option>კი</option><option>არა</option></select>
                            <input type="text" id="officeAddress" placeholder="მისამართი" style="grid-column: 1 / -1;">
                        </div>
                    </div>

                </div>

                <div class="form-group">
                    <label for="postText" data-translate="description">დეტალური აღწერა:</label>
                    <textarea id="postText" rows="5" required></textarea>
                </div>

                <div class="form-group photo-upload-section">
                    <label data-translate="photos">ფოტოები</label>
                    <p class="small-info"><span id="photoCounter">0/10</span> <span data-translate="maxPhotos">(მაქსიმუმ 10 ფოტო)</span></p>
                    <input type="file" id="imageInput" accept="image/*" multiple onchange="handleImageSelect(event)">
                    
                    <div id="selectedImagesContainer" class="selected-images-container">
                        </div>
                </div>

                <div class="modal-actions">
                    <button type="submit" class="btn-primary" data-translate="save">შენახვა</button>
                    <button type="button" class="btn-secondary" onclick="closeModal('postModal')" data-translate="cancel">გაუქმება</button>
                </div>
            </form>
        </div>
    </div>

    <div id="detailModal" class="modal large-modal" onclick="closeDetailModalOutside(event)">
        <div class="modal-content detail-content" onclick="event.stopPropagation()">
            <span class="close-btn" onclick="closeModal('detailModal')">&times;</span>
            
            <div class="detail-gallery">
                <div class="main-image-container">
                    <img id="detailMainImage" src="" alt="Post Image">
                    <div class="image-counter" id="detailImageCounter">1 / 1</div>
                    <div class="gallery-nav">
                        <button class="nav-btn prev" onclick="changeDetailImage(-1)">&#10094;</button>
                        <button class="nav-btn next" onclick="changeDetailImage(1)">&#10095;</button>
                    </div>
                </div>
                <div class="thumbnail-list" id="detailThumbnails">
                    </div>
            </div>

            <div class="detail-info">
                <div class="detail-header">
                    <div class="detail-category-badge" id="detailCategory"></div>
                    <h1 id="detailTitle"></h1>
                </div>
                
                <div class="detail-price-box">
                    <div class="price" id="detailPrice"></div>
                    <button class="btn-contact" onclick="contactSeller()">📞 +995 555 12 34 56</button>
                    <button class="btn-share" onclick="shareAd()">📤 გაზიარება</button>
                </div>
                
                <div id="detailSpecs" class="detail-specs">
                    </div>
                
                <div class="detail-section">
                    <h3>📝 აღწერა</h3>
                    <p id="detailDescription"></p>
                </div>

                <div id="detailAdminActions" class="detail-admin-actions" style="display: none;">
                    <button class="btn-edit" onclick="editPostFromDetail()">✏️ რედაქტირება</button>
                    <button class="btn-delete" onclick="deletePostFromDetail()">🗑️ წაშლა</button>
                </div>
            </div>
        </div>
    </div>

    <div id="galleryModal" class="modal fullscreen-gallery-modal" onclick="closeGallery()">
        <span class="close-btn gallery-close" onclick="closeGallery()">&times;</span>
        <div class="gallery-content" onclick="event.stopPropagation()">
            <button class="gallery-nav-btn prev" onclick="changeGalleryImage(-1)">&#10094;</button>
            <img id="galleryImage" src="" alt="Fullscreen Image">
            <button class="gallery-nav-btn next" onclick="changeGalleryImage(1)">&#10095;</button>
        </div>
        <div class="gallery-counter" id="galleryCounter"></div>
    </div>


    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script> 

    <script>
        // ----------------------------------------------------------------------------------
        // 🔥🔥 საბოლოო Firebase კონფიგურაცია 🔥🔥
        // ----------------------------------------------------------------------------------
        
        // თქვენი უნიკალური კონფიგურაცია:
        const firebaseConfig = {
            apiKey: "AIzaSyAjPdiWM4UapprE1oI-TScujLaR3kd2aN4",
            authDomain: "gl-group-53631.firebaseapp.com",
            projectId: "gl-group-53631",
            storageBucket: "gl-group-53631.firebasestorage.app", // ✅ ჩასწორებულია! იყენებს სწორ მისამართს CORS-ის წესების შესაბამისად.
            messagingSenderId: "473915719046",
            appId: "1:473915719046:web:4a1965cc8d5b1e18498007"
        };

        // Firebase სერვისების ინიციალიზაცია
        firebase.initializeApp(firebaseConfig);
        
        // გლობალური ცვლადები, რომლებსაც გამოიყენებს script.js
        const storage = firebase.storage(); 
        const db = firebase.firestore();     
        
        console.log("Firebase Connection: FINALIZED and configured."); 
        // ----------------------------------------------------------------------------------
    </script>
    
    <script src="js/script.js"></script>
</body>
</html> 
